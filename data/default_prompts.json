{
    "completion": "{\n  \"task\": \"completion\",\n  \"instruction\": \"Complete the given phrase naturally. Return ONLY the completion text, no quotes, no preamble.\",\n  \"requirements\": [\n    \"Continue from where the phrase stops\",\n    \"Use same language as context\",\n    \"Do not rephrase existing context\",\n    \"Return raw completion text only\",\n    \"NO markdown fences (```)\",\n    \"NO code blocks\",\n    \"NO explanations\"\n  ],\n  \"context\": \"{previous_context}\",\n  \"phrase_to_complete\": \"{current_phrase_start}\",\n  \"output_format\": \"raw_text\",\n  \"forbidden_formats\": [\"```\", \"```latex\", \"```text\", \"Here is\", \"The completion\"]\n}\n\nIMPORTANT: Start your response directly with the completion text. Do NOT use ``` or explanations.\n\nCompletion:",
    "generation": "{\n  \"task\": \"generation\",\n  \"instruction\": \"Generate text based on user request. Return ONLY the requested content, no explanations.\",\n  \"requirements\": [\n    \"Generate only what is requested\",\n    \"No preamble, signature, or explanations\",\n    \"Ready for direct insertion\",\n    \"NO markdown fences (```)\",\n    \"NO code blocks\",\n    \"NO introductory phrases\"\n  ],\n  \"user_request\": \"{user_prompt}\",\n  \"context\": \"{context}\",\n  \"output_format\": \"raw_text\",\n  \"forbidden_formats\": [\"```\", \"```text\", \"Here is\", \"Here's\", \"I'll generate\", \"The text\"]\n}\n\nIMPORTANT: Start your response directly with the requested text. Do NOT use ``` or explanations.\n\nGenerated text:",
    "generation_latex": "{\n  \"task\": \"latex_generation\",\n  \"instruction\": \"Generate LaTeX code only. Return raw LaTeX ready for direct insertion.\",\n  \"requirements\": [\n    \"Generate raw LaTeX code only\",\n    \"NO markdown fences (``` or ```latex)\",\n    \"NO explanations or comments\",\n    \"NO code block formatting\",\n    \"Ready for direct insertion into document\",\n    \"Proper LaTeX syntax and formatting\",\n    \"Start directly with LaTeX commands\"\n  ],\n  \"user_request\": \"{user_prompt}\",\n  \"context\": \"{context}\",\n  \"output_format\": \"raw_latex\",\n  \"forbidden_formats\": [\"```\", \"```latex\", \"```tex\", \"Here is\", \"Here's the LaTeX\", \"The LaTeX code\"],\n  \"example_bad_output\": \"```latex\\n\\\\section{Introduction}\\n```\",\n  \"example_good_output\": \"\\\\section{Introduction}\"\n}\n\nIMPORTANT: Start your response directly with LaTeX code. Do NOT use ``` or ```latex.\n\nLaTeX code:",
    "styling": "{\n  \"task\": \"latex_styling\",\n  \"instruction\": \"Apply LaTeX styling at intensity level {intensity}/10. Return styled LaTeX only.\",\n  \"requirements\": [\n    \"Apply styling at level {intensity} out of 10\",\n    \"Use \\\\textbf{{}} for key concepts\",\n    \"Use \\\\textit{{}} for proper nouns\",\n    \"Use \\\\texttt{{}} for code/technical terms\",\n    \"Return only the styled LaTeX code\",\n    \"NO markdown fences (```)\",\n    \"NO explanations or comments\",\n    \"NO code block formatting\"\n  ],\n  \"text_to_style\": \"{text}\",\n  \"intensity_level\": {intensity},\n  \"output_format\": \"raw_latex\",\n  \"forbidden_formats\": [\"```\", \"```latex\", \"Here is\", \"The styled\", \"Styled version\"]\n}\n\nIMPORTANT: Start your response directly with styled LaTeX code. Do NOT use ``` or explanations.\n\nStyled LaTeX:",
    "rephrase": "{\n  \"task\": \"rephrase\",\n  \"instruction\": \"Rephrase text according to specific instruction. Preserve all LaTeX commands exactly.\",\n  \"requirements\": [\n    \"Follow the rephrasing instruction precisely\",\n    \"Preserve original meaning\",\n    \"Keep all LaTeX commands unchanged\",\n    \"Return only the rephrased text\",\n    \"NO markdown fences (```)\",\n    \"NO code blocks\",\n    \"NO explanations or comments\"\n  ],\n  \"original_text\": \"{text}\",\n  \"rephrase_instruction\": \"{instruction}\",\n  \"output_format\": \"raw_text\",\n  \"forbidden_formats\": [\"```\", \"Here is\", \"Here's\", \"The rephrased\", \"Rephrased version\"]\n}\n\nIMPORTANT: Start your response directly with the rephrased text. Do NOT use ``` or explanations.\n\nRephrased text:",
    "debug_latex_diff": "{\n  \"task\": \"latex_debug\",\n  \"instruction\": \"Fix LaTeX compilation error. Return JSON with explanation and corrected code.\",\n  \"requirements\": [\n    \"Analyze the error in the provided lines\",\n    \"Return valid JSON format only\",\n    \"Provide brief explanation\",\n    \"Include corrected LaTeX code\"\n  ],\n  \"error_lines\": \"{added_lines}\",\n  \"output_format\": \"json\",\n  \"json_schema\": {\n    \"explanation\": \"brief description of the error\",\n    \"corrected_code\": \"fixed LaTeX code\"\n  }\n}\n\nReturn JSON:",
    "model_for_latex_generation": "codellama:7b-instruct",
    "model_for_rephrase": "default"
}